import math
import time

import tkinter

root = tkinter.Tk(className="Py3D v2") ##create base for window and give it a title

Canvas = tkinter.Canvas(root,background="black") ##create canvas item and attach it to the window

class quick_math() :
    quick_pi : float = 3.14159

    sin_table : list = [0.0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41, 0.42, 0.43, 0.43, 0.44, 0.45, 0.46, 0.47, 0.48, 0.49, 0.5, 0.51, 0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.56, 0.57, 0.58, 0.59, 0.6, 0.61, 0.61, 0.62, 0.63, 0.64, 0.64, 0.65, 0.66, 0.67, 0.67, 0.68, 0.69, 0.7, 0.7, 0.71, 0.72, 0.72, 0.73, 0.74, 0.74, 0.75, 0.76, 0.76, 0.77, 0.78, 0.78, 0.79, 0.8, 0.8, 0.81, 0.81, 0.82, 0.82, 0.83, 0.84, 0.84, 0.85, 0.85, 0.86, 0.86, 0.87, 0.87, 0.88, 0.88, 0.89, 0.89, 0.9, 0.9, 0.9, 0.91, 0.91, 0.92, 0.92, 0.92, 0.93, 0.93, 0.94, 0.94, 0.94, 0.95, 0.95, 0.95, 0.96, 0.96, 0.96, 0.96, 0.97, 0.97, 0.97, 0.97, 0.98, 0.98, 0.98, 0.98, 0.98, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.98, 0.98, 0.98, 0.98, 0.98, 0.97, 0.97, 0.97, 0.97, 0.96, 0.96, 0.96, 0.96, 0.95, 0.95, 0.95, 0.94, 0.94, 0.94, 0.93, 0.93, 0.93, 0.92, 0.92, 0.91, 0.91, 0.91, 0.9, 0.9, 0.89, 0.89, 0.88, 0.88, 0.87, 0.87, 0.86, 0.86, 0.85, 0.85, 0.84, 0.84, 0.83, 0.83, 0.82, 0.81, 0.81, 0.8, 0.8, 0.79, 0.78, 0.78, 0.77, 0.77, 0.76, 0.75, 0.75, 0.74, 0.73, 0.73, 0.72, 0.71, 0.7, 0.7, 0.69, 0.68, 0.68, 0.67, 0.66, 0.65, 0.65, 0.64, 0.63, 0.62, 0.61, 0.61, 0.6, 0.59, 0.58, 0.57, 0.57, 0.56, 0.55, 0.54, 0.53, 0.52, 0.52, 0.51, 0.5, 0.49, 0.48, 0.47, 0.46, 0.45, 0.45, 0.44, 0.43, 0.42, 0.41, 0.4, 0.39, 0.38, 0.37, 0.36, 0.35, 0.34, 0.33, 0.33, 0.32, 0.31, 0.3, 0.29, 0.28, 0.27, 0.26, 0.25, 0.24, 0.23, 0.22, 0.21, 0.2, 0.19, 0.18, 0.17, 0.16, 0.15, 0.14, 0.13, 0.12, 0.11, 0.1, 0.09, 0.08, 0.07, 0.06, 0.05, 0.04, 0.03, 0.02, 0.01, 0.0, -0.01, -0.02, -0.03, -0.04, -0.05, -0.06, -0.07, -0.08, -0.09, -0.1, -0.11, -0.12, -0.13, -0.14, -0.15, -0.16, -0.17, -0.18, -0.19, -0.2, -0.21, -0.22, -0.23, -0.24, -0.25, -0.26, -0.27, -0.27, -0.28, -0.29, -0.3, -0.31, -0.32, -0.33, -0.34, -0.35, -0.36, -0.37, -0.38, -0.39, -0.4, -0.41, -0.42, -0.42, -0.43, -0.44, -0.45, -0.46, -0.47, -0.48, -0.49, -0.5, -0.5, -0.51, -0.52, -0.53, -0.54, -0.55, -0.56, -0.56, -0.57, -0.58, -0.59, -0.6, -0.6, -0.61, -0.62, -0.63, -0.64, -0.64, -0.65, -0.66, -0.67, -0.67, -0.68, -0.69, -0.69, -0.7, -0.71, -0.72, -0.72, -0.73, -0.74, -0.74, -0.75, -0.76, -0.76, -0.77, -0.78, -0.78, -0.79, -0.79, -0.8, -0.81, -0.81, -0.82, -0.82, -0.83, -0.84, -0.84, -0.85, -0.85, -0.86, -0.86, -0.87, -0.87, -0.88, -0.88, -0.89, -0.89, -0.89, -0.9, -0.9, -0.91, -0.91, -0.92, -0.92, -0.92, -0.93, -0.93, -0.94, -0.94, -0.94, -0.95, -0.95, -0.95, -0.95, -0.96, -0.96, -0.96, -0.97, -0.97, -0.97, -0.97, -0.98, -0.98, -0.98, -0.98, -0.98, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.98, -0.98, -0.98, -0.98, -0.98, -0.97, -0.97, -0.97, -0.97, -0.96, -0.96, -0.96, -0.96, -0.95, -0.95, -0.95, -0.94, -0.94, -0.94, -0.93, -0.93, -0.93, -0.92, -0.92, -0.91, -0.91, -0.91, -0.9, -0.9, -0.89, -0.89, -0.88, -0.88, -0.87, -0.87, -0.86, -0.86, -0.85, -0.85, -0.84, -0.84, -0.83, -0.83, -0.82, -0.82, -0.81, -0.8, -0.8, -0.79, -0.79, -0.78, -0.77, -0.77, -0.76, -0.75, -0.75, -0.74, -0.73, -0.73, -0.72, -0.71, -0.71, -0.7, -0.69, -0.68, -0.68, -0.67, -0.66, -0.65, -0.65, -0.64, -0.63, -0.62, -0.62, -0.61, -0.6, -0.59, -0.58, -0.58, -0.57, -0.56, -0.55, -0.54, -0.53, -0.53, -0.52, -0.51, -0.5, -0.49, -0.48, -0.47, -0.46, -0.46, -0.45, -0.44, -0.43, -0.42, -0.41, -0.4, -0.39, -0.38, -0.37, -0.36, -0.36, -0.35, -0.34, -0.33, -0.32, -0.31, -0.3, -0.29, -0.28, -0.27, -0.26, -0.25, -0.24, -0.23, -0.22, -0.21, -0.2, -0.19, -0.18, -0.17, -0.16, -0.15, -0.14, -0.13, -0.12, -0.11, -0.1, -0.09, -0.08, -0.07, -0.06, -0.05, -0.04, -0.03, -0.02, -0.01, -0.0]
    cos_table : list = [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.98, 0.98, 0.98, 0.98, 0.98, 0.97, 0.97, 0.97, 0.97, 0.96, 0.96, 0.96, 0.96, 0.95, 0.95, 0.95, 0.94, 0.94, 0.94, 0.93, 0.93, 0.92, 0.92, 0.92, 0.91, 0.91, 0.9, 0.9, 0.9, 0.89, 0.89, 0.88, 0.88, 0.87, 0.87, 0.86, 0.86, 0.85, 0.85, 0.84, 0.84, 0.83, 0.83, 0.82, 0.81, 0.81, 0.8, 0.8, 0.79, 0.78, 0.78, 0.77, 0.76, 0.76, 0.75, 0.75, 0.74, 0.73, 0.72, 0.72, 0.71, 0.7, 0.7, 0.69, 0.68, 0.67, 0.67, 0.66, 0.65, 0.64, 0.64, 0.63, 0.62, 0.61, 0.61, 0.6, 0.59, 0.58, 0.57, 0.57, 0.56, 0.55, 0.54, 0.53, 0.52, 0.51, 0.51, 0.5, 0.49, 0.48, 0.47, 0.46, 0.45, 0.44, 0.44, 0.43, 0.42, 0.41, 0.4, 0.39, 0.38, 0.37, 0.36, 0.35, 0.34, 0.33, 0.32, 0.32, 0.31, 0.3, 0.29, 0.28, 0.27, 0.26, 0.25, 0.24, 0.23, 0.22, 0.21, 0.2, 0.19, 0.18, 0.17, 0.16, 0.15, 0.14, 0.13, 0.12, 0.11, 0.1, 0.09, 0.08, 0.07, 0.06, 0.05, 0.04, 0.03, 0.02, 0.01, 0.0, -0.01, -0.02, -0.03, -0.04, -0.05, -0.06, -0.07, -0.08, -0.09, -0.1, -0.11, -0.12, -0.13, -0.14, -0.15, -0.16, -0.17, -0.18, -0.19, -0.2, -0.21, -0.22, -0.23, -0.24, -0.25, -0.26, -0.27, -0.28, -0.29, -0.29, -0.3, -0.31, -0.32, -0.33, -0.34, -0.35, -0.36, -0.37, -0.38, -0.39, -0.4, -0.41, -0.42, -0.43, -0.43, -0.44, -0.45, -0.46, -0.47, -0.48, -0.49, -0.5, -0.5, -0.51, -0.52, -0.53, -0.54, -0.55, -0.56, -0.56, -0.57, -0.58, -0.59, -0.6, -0.6, -0.61, -0.62, -0.63, -0.64, -0.64, -0.65, -0.66, -0.67, -0.67, -0.68, -0.69, -0.7, -0.7, -0.71, -0.72, -0.72, -0.73, -0.74, -0.74, -0.75, -0.76, -0.76, -0.77, -0.78, -0.78, -0.79, -0.8, -0.8, -0.81, -0.81, -0.82, -0.82, -0.83, -0.84, -0.84, -0.85, -0.85, -0.86, -0.86, -0.87, -0.87, -0.88, -0.88, -0.89, -0.89, -0.9, -0.9, -0.9, -0.91, -0.91, -0.92, -0.92, -0.92, -0.93, -0.93, -0.94, -0.94, -0.94, -0.95, -0.95, -0.95, -0.95, -0.96, -0.96, -0.96, -0.97, -0.97, -0.97, -0.97, -0.98, -0.98, -0.98, -0.98, -0.98, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.99, -0.98, -0.98, -0.98, -0.98, -0.98, -0.97, -0.97, -0.97, -0.97, -0.96, -0.96, -0.96, -0.96, -0.95, -0.95, -0.95, -0.94, -0.94, -0.94, -0.93, -0.93, -0.93, -0.92, -0.92, -0.91, -0.91, -0.91, -0.9, -0.9, -0.89, -0.89, -0.88, -0.88, -0.87, -0.87, -0.86, -0.86, -0.85, -0.85, -0.84, -0.84, -0.83, -0.83, -0.82, -0.81, -0.81, -0.8, -0.8, -0.79, -0.78, -0.78, -0.77, -0.77, -0.76, -0.75, -0.75, -0.74, -0.73, -0.73, -0.72, -0.71, -0.7, -0.7, -0.69, -0.68, -0.68, -0.67, -0.66, -0.65, -0.65, -0.64, -0.63, -0.62, -0.62, -0.61, -0.6, -0.59, -0.58, -0.57, -0.57, -0.56, -0.55, -0.54, -0.53, -0.52, -0.52, -0.51, -0.5, -0.49, -0.48, -0.47, -0.46, -0.46, -0.45, -0.44, -0.43, -0.42, -0.41, -0.4, -0.39, -0.38, -0.37, -0.36, -0.35, -0.35, -0.34, -0.33, -0.32, -0.31, -0.3, -0.29, -0.28, -0.27, -0.26, -0.25, -0.24, -0.23, -0.22, -0.21, -0.2, -0.19, -0.18, -0.17, -0.16, -0.15, -0.14, -0.13, -0.12, -0.11, -0.1, -0.09, -0.08, -0.07, -0.06, -0.05, -0.04, -0.03, -0.02, -0.01, -0.0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41, 0.41, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47, 0.48, 0.49, 0.49, 0.5, 0.51, 0.52, 0.53, 0.54, 0.55, 0.55, 0.56, 0.57, 0.58, 0.59, 0.6, 0.6, 0.61, 0.62, 0.63, 0.63, 0.64, 0.65, 0.66, 0.67, 0.67, 0.68, 0.69, 0.69, 0.7, 0.71, 0.72, 0.72, 0.73, 0.74, 0.74, 0.75, 0.76, 0.76, 0.77, 0.78, 0.78, 0.79, 0.79, 0.8, 0.81, 0.81, 0.82, 0.82, 0.83, 0.83, 0.84, 0.85, 0.85, 0.86, 0.86, 0.87, 0.87, 0.88, 0.88, 0.89, 0.89, 0.89, 0.9, 0.9, 0.91, 0.91, 0.92, 0.92, 0.92, 0.93, 0.93, 0.93, 0.94, 0.94, 0.95, 0.95, 0.95, 0.95, 0.96, 0.96, 0.96, 0.97, 0.97, 0.97, 0.97, 0.98, 0.98, 0.98, 0.98, 0.98, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    def sin(value) -> float :
        angle = round(quick_math.wrapf(value,0,2*quick_math.quick_pi),2)
        index : int = int(abs(angle)*100)
        return quick_math.sin_table[index]

    def cos(value) -> float :
        angle = round(quick_math.wrapf(value,0,2*quick_math.quick_pi),2)
        index : int = int(abs(angle)*100)
        return quick_math.cos_table[index]
    
    def wrapf(value,min,max) -> float :

        if value < min :
            value = max + value

        elif value > max :
            value = value % max
        
        return value

    def clampf(value,min,max) -> float :

        if value < min :
            value = min

        elif value > max :
            value = max
        
        return value

    def rad_to_deg(radian : float) -> float :
        return (radian * 180) / math.pi

    def deg_to_rad(degree : float) -> float :
        return (degree * math.pi) / 180



class INPUT_STRUCTURE :
    
    inputs = []
    
    def __init__(self, key_name):
        INPUT_STRUCTURE.inputs.append(self) #ever time an input is defined, add it to a list so it can be updated in INPUT()
        self.key = key_name
        Canvas.bind("<KeyPress-%s>" % self.key, self.press)
        Canvas.bind("<KeyRelease-%s>" % self.key, self.release)
    
    key = ""
    is_pressed = False
    just_pressed = False
    
    has_been_released = True
    
    ##the just pressed var needs a small window of time since the program actually 
    just_pressed_window_length = 1
    just_pressed_window = 1
    
    def press(self,_extra) :
        self.is_pressed = True
        if self.has_been_released == True :
            self.just_pressed = True
        self.has_been_released = False
    
    def release(self,_extra) :
        self.is_pressed = False
        self.has_been_released = True

class COLOR() :

    def __init__(self,r : float, g : float, b : float):
        self.r = r
        self.g = g
        self.b = b

    def copy(self) -> object :
        return COLOR(self.r,self.g,self.b)
    
    def __mul__(self, value):
        return COLOR(self.r*value,self.g*value,self.b*value)

    def __imul__(self,value) :
        return self.__mul__(value)

    def get_hex(self) :
        
        r = quick_math.clampf(self.r * 255,0,255)
        g = quick_math.clampf(self.g * 255,0,255)
        b = quick_math.clampf(self.b * 255,0,255)

        return '#%02x%02x%02x' % (int(r),int(g),int(b))  ##converts to hex

    def __str__(self):
        return str((self.r,self.g,self.b))

class WINDOW() :
    def __init__(self):
        self.x_offset = 0
        self.y_offset = 0
    

##MESHES

empty_mesh = [[],[]]

shape_suz_vert = [(0.203125,0.09375,0.742188),(0.351563,0.515625,0.617188),(0.351563,-0.023438,0.617188),(0.546875,0.054688,0.578125),(0.15625,0.054688,0.648438),(0.625,0.242188,0.5625),(0.546875,0.4375,0.578125),(0.15625,0.4375,0.648438),(0.078125,0.242188,0.65625),(-0.546875,0.054688,0.578125),(-0.625,0.242188,0.5625),(-0.546875,0.4375,0.578125),(-0.203125,0.09375,0.742188),(-0.351563,0.515625,0.617188),(-0.351563,-0.023438,0.617188),(-0.15625,0.4375,0.648438),(-0.15625,0.054688,0.648438),(-0.078125,0.242188,0.65625),(0.195313,0.296875,0.757813),(0.53125,0.335938,0.679688),(0.3125,0.640625,0.835938),(0.234375,0.359375,0.757813),(0.28125,0.398438,0.765625),(0.335938,0.40625,0.75),(0.414063,0.390625,0.75),(-0.859375,0.382813,-0.382813),(0.960938,0.171875,-0.351563),(0.554688,0.28125,0.671875),(0.546875,0.210938,0.671875),(0.460938,0.117188,0.703125),(0.375,0.085938,0.726563),(0.0,-0.1875,0.796875),(0.0,-0.140625,0.742188),(0.0,-0.195313,0.75),(0.203125,0.09375,0.742188),(0.242188,0.125,0.757813),(0.203125,0.171875,0.75),(0.195313,0.226563,0.75),(-0.375,0.085938,0.726563),(-0.460938,0.117188,0.703125),(-0.546875,0.210938,0.671875),(-0.203125,0.09375,0.742188),(-0.242188,0.125,0.757813),(-0.203125,0.171875,0.75),(-0.195313,0.226563,0.75),(-0.195313,0.296875,0.757813),(-0.554688,0.28125,0.671875),(-0.53125,0.335938,0.679688),(-0.414063,0.390625,0.75),(-0.25,0.46875,0.757813),(-0.234375,0.359375,0.757813),(-0.335938,0.40625,0.75),(-0.28125,0.398438,0.765625),(0.351563,0.242188,0.828125),(-0.351563,0.242188,0.828125),(-0.109375,-0.71875,0.734375),(0.140625,-0.757813,0.367188),(-0.25,-0.5,0.390625),(0.0625,-0.882813,0.695313),(0.25,-0.703125,0.6875),(0.21875,-0.28125,0.429688),(0.726563,0.203125,0.601563),(0.726563,0.0,-0.070313),(0.710938,0.484375,0.625),(0.484375,0.554688,0.554688),(0.0,0.429688,0.742188),(-0.460938,0.523438,0.429688),(0.453125,0.867188,-0.382813),(-0.640625,0.679688,-0.445313),(-0.484375,0.023438,-0.546875),(0.429688,-0.195313,-0.210938),(1.039063,-0.101563,-0.328125),(0.859375,0.382813,-0.382813),(0.8125,-0.015625,-0.273438),(1.1875,0.09375,-0.445313),(1.015625,0.414063,-0.289063),(-0.59375,-0.125,-0.164063),(-0.601563,0.0,0.414063),(-0.4375,-0.09375,0.46875),(-0.710938,0.484375,0.625),(-0.617188,0.054688,0.625),(-0.84375,0.015625,-0.273438),(-1.039063,-0.101563,-0.328125),(-1.257813,0.242188,-0.492188),(0.351563,0.117188,0.804688),(-0.351563,0.03125,0.71875),(-0.234375,-0.914063,0.632813),(0.234375,-0.914063,0.632813),(0.0,-0.976563,0.460938),(-0.140625,-0.757813,0.367188),(0.0,-0.460938,0.1875),(-0.25,-0.703125,0.6875),(0.3125,-0.4375,0.570313),(-0.117188,-0.835938,0.710938),(0.09375,-0.75,0.664063),(0.078125,-0.445313,0.75),(-0.234375,-0.25,0.554688),(0.164063,-0.242188,0.710938),(-0.09375,-0.273438,0.78125),(0.398438,-0.046875,0.671875),(-0.398438,-0.046875,0.671875),(0.4375,-0.09375,0.46875),(0.0,-0.382813,-0.351563),(-0.796875,0.40625,0.460938),(-0.6875,0.414063,0.726563),(-0.726563,0.0,-0.070313),(-0.320313,0.757813,0.734375),(-0.640625,0.703125,0.054688),(0.0,0.570313,0.570313),(-0.453125,0.867188,-0.382813),(0.0,0.898438,0.289063),(-0.796875,0.203125,-0.210938),(0.195313,0.664063,0.617188),(-0.828125,-0.070313,-0.132813),(-0.835938,0.171875,-0.273438),(-0.953125,0.289063,-0.34375),(-0.820313,0.328125,-0.203125),(-0.789063,-0.125,-0.328125),(-1.015625,0.414063,-0.289063),(0.0,0.070313,-0.828125),(-1.210938,0.085938,-0.484375),(-1.3125,0.054688,-0.53125),(-1.023438,0.34375,-0.359375),(0.0,0.898438,-0.546875),(0.617188,0.328125,-0.585938),(0.453125,0.929688,-0.070313),(0.640625,0.75,-0.195313),(1.210938,0.078125,-0.40625),(0.820313,0.328125,-0.203125),(0.828125,-0.070313,-0.132813),(0.828125,0.078125,-0.320313),(1.085938,0.273438,-0.390625),(1.171875,0.359375,-0.4375),(0.320313,0.757813,0.734375),(0.742188,0.375,0.65625),(0.601563,0.375,0.664063),(0.25,0.46875,0.757813),(0.625,0.1875,0.648438),(0.375,0.015625,0.703125),(0.125,-0.101563,0.8125),(0.0,0.046875,0.726563),(-0.125,-0.101563,0.8125),(-0.625,0.1875,0.648438),(-0.3125,0.640625,0.835938),(0.46875,0.242188,0.757813),(0.5,0.390625,0.6875),(0.351563,0.359375,0.78125),(0.226563,0.242188,0.820313),(-0.5,0.390625,0.6875),(-0.4375,0.164063,0.765625),(-0.4375,0.328125,0.765625),(-0.351563,0.132813,0.78125),(-0.351563,0.359375,0.78125),(-0.242188,0.242188,0.796875),(0.179688,-0.96875,0.554688),(0.164063,-0.945313,0.4375),(0.367188,-0.890625,0.53125),(0.351563,-0.695313,0.570313),(0.125,-0.539063,0.359375),(0.210938,-0.390625,0.164063),(0.40625,-0.171875,0.148438),(0.257813,-0.3125,0.554688),(0.203125,-0.1875,0.5625),(0.617188,0.054688,0.625),(0.828125,0.148438,0.445313),(0.796875,0.40625,0.460938),(0.859375,0.429688,0.59375),(0.640625,0.296875,0.648438),(0.429688,0.4375,0.71875),(0.335938,0.429688,0.757813),(0.4375,0.546875,0.796875),(0.125,0.304688,0.765625),(0.0,0.210938,0.765625),(0.0625,0.492188,0.75),(0.109375,0.460938,0.609375),(0.460938,0.523438,0.429688),(0.726563,0.40625,0.335938),(0.859375,0.320313,-0.046875),(0.0,0.984375,-0.078125),(-0.453125,0.851563,0.234375),(-0.460938,0.4375,-0.703125),(0.335938,0.054688,-0.664063),(0.0,0.5625,-0.851563),(-0.617188,0.328125,-0.585938),(-0.335938,0.054688,-0.664063),(0.0,-0.195313,-0.671875),(0.484375,0.023438,-0.546875),(-0.796875,0.539063,-0.359375),(-0.210938,-0.390625,0.164063),(-0.640625,-0.007813,-0.429688),(-0.773438,0.265625,-0.4375),(-1.023438,0.4375,-0.484375),(-1.1875,0.4375,-0.390625),(-1.210938,0.078125,-0.40625),(-1.03125,-0.039063,-0.304688),(-1.039063,0.0,-0.367188),(-1.234375,0.25,-0.445313),(-1.109375,0.210938,-0.390625),(-1.046875,0.0,-0.421875),(-1.054688,0.1875,-0.382813),(-0.9375,0.0625,-0.335938),(-0.921875,0.359375,-0.21875),(-0.890625,0.234375,-0.320313),(-0.84375,0.171875,-0.320313),(-0.859375,0.320313,-0.046875),(-0.757813,0.09375,-0.273438),(-0.71875,-0.023438,-0.171875),(-0.734375,-0.046875,0.070313),(-0.40625,-0.171875,0.148438),(-0.210938,-0.226563,0.46875),(-0.164063,-0.945313,0.4375),(-0.328125,-0.945313,0.523438),(-0.367188,-0.890625,0.53125),(-0.351563,-0.695313,0.570313),(-0.3125,-0.4375,0.570313),(-0.078125,-0.445313,0.75),(-0.0625,-0.882813,0.695313),(0.0,-0.679688,0.734375),(-0.09375,-0.75,0.664063),(0.117188,-0.835938,0.710938),(0.0,-0.773438,0.71875),(0.109375,-0.71875,0.734375),(0.0,-0.320313,0.78125),(0.085938,-0.289063,0.742188),(0.132813,-0.226563,0.796875),(0.0,-0.203125,0.828125),(-0.164063,-0.242188,0.710938),(-0.203125,-0.1875,0.5625),(-0.4375,-0.140625,0.53125),(-0.101563,-0.148438,0.742188),(-0.375,0.015625,0.703125),(-0.492188,0.0625,0.671875),(-0.726563,0.203125,0.601563),(-0.601563,0.375,0.664063),(-0.429688,0.4375,0.71875),(-0.859375,0.429688,0.59375),(-0.335938,0.6875,0.59375),(-0.0625,0.492188,0.75),(-0.109375,0.460938,0.609375),(-0.101563,0.429688,0.84375),(-0.125,0.304688,0.765625),(-0.164063,0.414063,0.773438),(0.640625,0.679688,-0.445313),(0.796875,0.539063,-0.359375),(0.773438,0.265625,-0.4375),(0.789063,-0.125,-0.328125),(0.84375,0.289063,-0.210938),(1.023438,0.4375,-0.484375),(1.03125,-0.039063,-0.304688),(1.039063,0.0,-0.367188),(1.1875,0.4375,-0.390625),(1.023438,0.34375,-0.359375),(0.945313,0.304688,-0.289063),(0.953125,0.289063,-0.34375),(1.257813,0.242188,-0.492188),(1.210938,0.085938,-0.484375),(1.046875,0.0,-0.421875),(1.054688,0.1875,-0.382813),(0.890625,0.109375,-0.328125),(0.882813,-0.015625,-0.265625),(0.84375,0.015625,-0.273438),(0.71875,0.039063,-0.1875),(0.5625,0.242188,0.671875),(0.5,0.09375,0.6875),(0.351563,0.03125,0.71875),(0.4375,0.164063,0.765625),(0.351563,0.453125,0.71875),(0.4375,0.328125,0.765625),(0.476563,0.242188,0.773438),(0.203125,0.390625,0.742188),(0.445313,0.335938,0.78125),(0.140625,0.242188,0.742188),(0.273438,0.328125,0.796875),(0.242188,0.242188,0.796875),(0.351563,0.375,0.804688),(0.265625,0.335938,0.820313),(0.265625,0.15625,0.820313),(0.273438,0.164063,0.796875),(0.445313,0.15625,0.78125),(0.351563,0.132813,0.78125),(-0.5,0.09375,0.6875),(-0.5625,0.242188,0.671875),(-0.46875,0.242188,0.757813),(-0.351563,0.453125,0.71875),(-0.476563,0.242188,0.773438),(-0.203125,0.390625,0.742188),(-0.445313,0.335938,0.78125),(-0.445313,0.15625,0.78125),(-0.140625,0.242188,0.742188),(-0.351563,0.375,0.804688),(-0.273438,0.328125,0.796875),(-0.265625,0.335938,0.820313),(-0.226563,0.242188,0.820313),(-0.265625,0.15625,0.820313),(-0.351563,0.117188,0.804688),(-0.273438,0.164063,0.796875),(0.164063,-0.929688,0.632813),(0.0,-0.984375,0.578125),(0.0,-0.945313,0.640625),(-0.179688,-0.96875,0.554688),(-0.164063,-0.929688,0.632813),(0.0,-0.804688,0.34375),(0.328125,-0.945313,0.523438),(0.328125,-0.914063,0.398438),(0.289063,-0.710938,0.382813),(0.0,-0.570313,0.320313),(0.265625,-0.820313,0.664063),(0.25,-0.5,0.390625),(0.210938,-0.445313,0.710938),(0.179688,-0.414063,0.257813),(0.234375,-0.351563,0.40625),(0.0,-0.484375,0.28125),(0.117188,-0.6875,0.734375),(0.179688,-0.3125,0.710938),(0.234375,-0.25,0.554688),(0.0,-0.445313,0.75),(0.0,-0.328125,0.742188),(0.210938,-0.226563,0.46875),(-0.085938,-0.289063,0.742188),(0.203125,-0.171875,0.5),(0.4375,-0.140625,0.53125),(0.632813,-0.039063,0.539063),(-0.179688,-0.414063,0.257813),(0.296875,-0.3125,-0.265625),(0.34375,-0.148438,-0.539063),(-0.125,-0.539063,0.359375),(-0.289063,-0.710938,0.382813),(-0.328125,-0.914063,0.398438),(-0.265625,-0.820313,0.664063),(-0.234375,-0.351563,0.40625),(-0.21875,-0.28125,0.429688),(-0.257813,-0.3125,0.554688),(-0.210938,-0.445313,0.710938),(-0.117188,-0.6875,0.734375),(-0.179688,-0.3125,0.710938),(-0.203125,-0.171875,0.5),(-0.632813,-0.039063,0.539063),(-0.296875,-0.3125,-0.265625),(-0.828125,0.148438,0.445313),(-0.773438,0.164063,0.375),(-0.851563,0.234375,0.054688),(-0.726563,0.40625,0.335938),(-0.679688,0.453125,0.492188),(-0.796875,0.5625,0.125),(-0.632813,0.453125,0.28125),(-0.796875,0.617188,-0.117188),(-0.640625,0.75,-0.195313),(-0.453125,0.929688,-0.070313),(0.460938,0.4375,-0.703125),(-0.34375,-0.148438,-0.539063),(-0.429688,-0.195313,-0.210938),(0.640625,-0.007813,-0.429688),(0.59375,-0.125,-0.164063),(0.640625,0.703125,0.054688),(0.796875,0.617188,-0.117188),(0.453125,0.851563,0.234375),(0.632813,0.453125,0.28125),(0.796875,0.5625,0.125),(0.679688,0.453125,0.492188),(0.851563,0.234375,0.054688),(0.773438,0.164063,0.375),(0.734375,-0.046875,0.070313),(0.601563,0.0,0.414063),(0.492188,0.601563,0.6875),(0.0,0.40625,0.601563),(0.335938,0.6875,0.59375),(0.15625,0.71875,0.757813),(0.203125,0.617188,0.851563),(0.101563,0.429688,0.84375),(0.328125,0.476563,0.742188),(0.6875,0.414063,0.726563),(0.585938,0.289063,0.6875),(0.5625,0.351563,0.695313),(0.492188,0.0625,0.671875),(0.578125,0.195313,0.679688),(0.476563,0.101563,0.71875),(0.421875,0.398438,0.773438),(0.273438,0.421875,0.773438),(0.210938,0.375,0.78125),(0.164063,0.414063,0.773438),(0.179688,0.296875,0.78125),(0.171875,0.21875,0.78125),(0.0,0.351563,0.820313),(0.1875,0.15625,0.773438),(0.132813,0.210938,0.757813),(0.164063,0.140625,0.75),(0.226563,0.109375,0.78125),(0.375,0.0625,0.742188),(-0.164063,0.140625,0.75),(-0.132813,0.210938,0.757813),(-0.1875,0.15625,0.773438),(-0.171875,0.21875,0.78125),(-0.179688,0.296875,0.78125),(-0.226563,0.109375,0.78125),(-0.375,0.0625,0.742188),(-0.210938,0.375,0.78125),(-0.476563,0.101563,0.71875),(-0.578125,0.195313,0.679688),(-0.585938,0.289063,0.6875),(-0.640625,0.296875,0.648438),(-0.742188,0.375,0.65625),(-0.5625,0.351563,0.695313),(-0.421875,0.398438,0.773438),(-0.335938,0.429688,0.757813),(-0.273438,0.421875,0.773438),(-0.328125,0.476563,0.742188),(-0.4375,0.546875,0.796875),(-0.492188,0.601563,0.6875),(-0.203125,0.617188,0.851563),(-0.15625,0.71875,0.757813),(-0.195313,0.664063,0.617188),(-0.484375,0.554688,0.554688),(0.0,-0.890625,0.6875),(0.09375,-0.820313,0.710938),(0.046875,-0.867188,0.6875),(-0.046875,-0.867188,0.6875),(0.0,-0.875,0.6875),(0.09375,-0.8125,0.640625),(0.09375,-0.742188,0.726563),(0.046875,-0.851563,0.632813),(0.0,-0.859375,0.632813),(0.0,-0.78125,0.65625),(0.0,-0.765625,0.734375),(-0.09375,-0.742188,0.726563),(-0.046875,-0.851563,0.632813),(-0.09375,-0.8125,0.640625),(-0.09375,-0.820313,0.710938),(0.125,-0.226563,0.75),(0.09375,-0.273438,0.78125),(0.101563,-0.148438,0.742188),(0.109375,-0.132813,0.78125),(0.039063,-0.125,0.78125),(0.09375,-0.15625,0.8125),(0.078125,-0.25,0.804688),(0.109375,-0.226563,0.828125),(0.046875,-0.148438,0.8125),(0.0,-0.289063,0.804688),(-0.078125,-0.25,0.804688),(-0.125,-0.226563,0.75),(-0.132813,-0.226563,0.796875),(-0.109375,-0.132813,0.78125),(-0.039063,-0.125,0.78125),(-0.09375,-0.15625,0.8125),(-0.046875,-0.148438,0.8125),(-0.109375,-0.226563,0.828125),(0.890625,0.40625,-0.234375),(1.023438,0.476563,-0.3125),(0.921875,0.359375,-0.21875),(0.796875,0.203125,-0.210938),(0.890625,0.242188,-0.265625),(0.890625,0.234375,-0.320313),(0.835938,0.171875,-0.273438),(0.757813,0.09375,-0.273438),(0.71875,-0.023438,-0.171875),(0.820313,0.085938,-0.273438),(0.765625,0.09375,-0.320313),(0.84375,0.171875,-0.320313),(0.851563,0.015625,-0.320313),(0.8125,-0.015625,-0.320313),(0.9375,0.0625,-0.335938),(1.0,0.125,-0.367188),(1.015625,0.234375,-0.375),(1.039063,0.328125,-0.414063),(1.109375,0.210938,-0.390625),(1.1875,0.34375,-0.484375),(1.234375,0.25,-0.445313),(1.265625,0.289063,-0.40625),(1.28125,0.054688,-0.429688),(0.882813,-0.023438,-0.210938),(0.773438,-0.140625,-0.125),(1.039063,-0.085938,-0.492188),(1.3125,0.054688,-0.53125),(1.367188,0.296875,-0.5),(1.234375,0.507813,-0.421875),(1.25,0.46875,-0.546875),(1.351563,0.320313,-0.421875),(-0.890625,0.40625,-0.234375),(-0.84375,0.289063,-0.210938),(-0.945313,0.304688,-0.289063),(-1.023438,0.476563,-0.3125),(-1.039063,-0.085938,-0.492188),(-1.234375,0.507813,-0.421875),(-1.25,0.46875,-0.546875),(-1.351563,0.320313,-0.421875),(-1.367188,0.296875,-0.5),(-1.28125,0.054688,-0.429688),(-1.265625,0.289063,-0.40625),(-1.171875,0.359375,-0.4375),(-0.773438,-0.140625,-0.125),(-0.8125,-0.015625,-0.273438),(-0.71875,0.039063,-0.1875),(-0.882813,-0.023438,-0.210938),(-0.882813,-0.015625,-0.265625),(-1.1875,0.09375,-0.445313),(-0.8125,-0.015625,-0.320313),(-0.851563,0.015625,-0.320313),(-1.0,0.125,-0.367188),(-0.960938,0.171875,-0.351563),(-1.1875,0.34375,-0.484375),(-1.085938,0.273438,-0.390625),(-1.039063,0.328125,-0.414063),(-1.015625,0.234375,-0.375),(-0.890625,0.242188,-0.265625),(-0.890625,0.109375,-0.328125),(-0.828125,0.078125,-0.320313),(-0.765625,0.09375,-0.320313),(-0.820313,0.085938,-0.273438)]
shape_suz_order = [(145,263,264),(263,4,264),(263,6,4),(264,4,3),(263,7,6),(263,146,7),(145,146,263),(146,2,7),(264,3,265),(265,3,5),(145,264,266),(266,264,265),(146,267,2),(267,8,2),(145,268,146),(268,267,146),(266,269,145),(268,145,269),(267,270,8),(270,9,8),(268,147,267),(147,270,267),(268,269,271),(147,268,271),(270,272,9),(272,5,9),(147,273,270),(274,272,270),(274,270,273),(273,147,275),(147,271,275),(273,275,276),(274,273,276),(54,275,271),(54,276,275),(54,271,269),(274,276,148),(54,148,276),(274,148,277),(54,277,148),(274,277,278),(278,272,274),(54,85,277),(278,277,85),(54,269,279),(85,54,279),(266,279,269),(280,85,279),(280,279,266),(278,85,280),(266,265,280),(278,1,272),(280,1,278),(280,265,1),(272,1,5),(265,5,1),(281,282,283),(10,282,281),(10,11,282),(15,10,281),(282,11,12),(282,12,149),(283,282,149),(149,12,14),(15,281,86),(17,15,86),(281,283,150),(86,281,150),(149,14,284),(284,14,16),(283,149,151),(151,149,284),(285,150,283),(151,285,283),(284,16,286),(286,16,18),(151,284,153),(153,284,286),(151,287,285),(153,287,151),(285,288,150),(286,18,289),(289,18,17),(287,55,285),(285,55,288),(153,290,287),(290,55,287),(153,286,291),(291,290,153),(286,289,154),(286,154,291),(291,292,290),(292,55,290),(154,292,291),(293,55,292),(154,293,292),(294,55,293),(294,293,154),(295,55,294),(55,295,288),(294,154,296),(295,294,296),(289,296,154),(288,295,152),(295,296,152),(288,152,150),(86,150,152),(13,152,296),(13,86,152),(289,13,296),(17,86,13),(289,17,13),(297,155,298),(155,89,298),(297,298,299),(88,155,297),(89,300,298),(155,156,89),(301,298,300),(301,299,298),(89,211,300),(299,301,217),(302,89,156),(302,211,89),(303,156,155),(88,303,155),(302,156,57),(303,304,156),(304,57,156),(157,304,303),(157,303,88),(304,305,57),(157,305,304),(306,302,57),(157,88,307),(158,305,157),(158,157,307),(220,307,88),(220,88,297),(305,159,57),(306,57,159),(158,308,305),(305,308,159),(158,307,60),(93,308,158),(93,158,60),(222,60,307),(220,222,307),(93,60,309),(308,310,159),(93,311,308),(308,311,310),(311,93,162),(162,93,309),(311,162,61),(310,311,61),(312,159,310),(312,306,159),(309,60,313),(222,313,60),(309,313,96),(222,218,313),(96,313,218),(162,309,314),(96,314,309),(315,162,314),(61,162,315),(96,224,314),(96,218,316),(317,96,316),(317,224,96),(317,316,216),(216,316,218),(224,98,314),(315,314,98),(224,317,223),(61,315,318),(317,216,319),(319,223,317),(102,61,318),(315,320,318),(102,318,320),(315,163,320),(163,315,98),(320,163,321),(320,321,102),(163,100,321),(322,102,321),(322,321,100),(163,98,140),(163,140,100),(102,161,61),(61,161,160),(310,61,160),(91,310,160),(91,312,310),(103,91,160),(323,312,91),(103,160,324),(324,160,161),(189,91,103),(323,91,189),(325,103,324),(312,323,326),(312,326,306),(306,326,90),(306,90,302),(302,90,211),(326,327,90),(328,211,90),(328,90,327),(211,328,212),(211,212,300),(328,327,213),(328,213,212),(326,58,327),(58,326,323),(87,300,212),(87,212,213),(87,301,300),(327,214,213),(327,58,214),(87,213,329),(329,213,214),(301,87,94),(94,87,329),(301,94,217),(94,329,56),(329,214,92),(92,56,329),(92,214,215),(58,215,214),(58,330,215),(58,323,330),(323,331,330),(323,189,331),(330,332,215),(330,331,332),(92,215,333),(332,333,215),(334,92,333),(92,334,56),(334,333,216),(56,334,218),(216,218,334),(216,333,335),(332,335,333),(216,335,319),(97,335,332),(331,97,332),(319,335,227),(97,227,335),(331,210,97),(331,79,210),(97,210,336),(210,79,336),(97,336,228),(227,97,228),(336,229,228),(336,79,229),(227,228,142),(101,228,229),(101,142,228),(79,337,229),(337,101,229),(331,209,79),(209,331,189),(79,78,337),(209,78,79),(337,81,101),(338,209,189),(189,103,338),(233,81,337),(78,339,337),(233,337,339),(209,208,78),(78,340,339),(208,340,78),(339,340,104),(209,77,208),(236,233,339),(339,104,236),(208,341,340),(340,342,104),(340,341,342),(106,341,208),(77,106,208),(104,80,236),(342,343,104),(104,343,80),(344,342,341),(342,345,343),(344,345,342),(344,341,205),(106,205,341),(344,108,345),(343,345,67),(346,344,205),(346,108,344),(106,112,205),(345,108,180),(345,180,67),(346,347,108),(108,348,180),(108,347,348),(180,348,179),(347,110,348),(110,179,348),(188,347,346),(347,69,110),(188,69,347),(69,181,110),(184,69,188),(69,184,181),(188,346,117),(346,205,117),(184,188,191),(188,117,191),(190,184,191),(181,124,110),(110,124,179),(181,183,124),(124,183,349),(181,120,183),(349,183,120),(184,185,181),(181,185,120),(184,70,185),(190,70,184),(185,186,120),(350,185,70),(185,350,186),(350,70,351),(351,70,190),(350,103,186),(350,338,103),(350,351,338),(338,351,209),(209,351,77),(351,190,77),(325,186,103),(118,77,190),(118,190,191),(182,186,325),(182,120,186),(349,120,182),(182,325,187),(125,349,182),(125,182,187),(325,71,187),(325,324,71),(324,161,71),(71,352,187),(352,125,187),(161,353,71),(71,353,352),(349,125,243),(349,243,68),(124,349,68),(179,124,68),(68,243,127),(179,68,126),(68,127,126),(127,243,244),(125,244,243),(126,127,354),(125,245,244),(352,245,125),(127,244,355),(354,127,355),(245,352,246),(126,354,356),(356,179,126),(244,245,129),(244,129,355),(356,111,179),(180,179,111),(67,180,111),(176,111,356),(67,111,109),(176,109,111),(67,109,239),(356,357,176),(356,354,357),(357,354,358),(354,355,358),(178,358,355),(178,355,129),(357,358,177),(359,176,357),(359,357,177),(360,177,358),(360,358,178),(359,177,166),(361,177,360),(361,166,177),(360,178,63),(361,360,362),(360,63,362),(361,362,363),(165,166,361),(165,361,363),(363,362,161),(363,161,102),(161,362,353),(322,363,102),(165,363,322),(353,362,63),(322,62,165),(165,167,166),(167,165,62),(64,166,167),(64,359,166),(167,62,135),(64,167,135),(322,164,62),(322,100,164),(64,65,359),(359,65,176),(64,364,65),(175,176,65),(175,109,176),(365,109,175),(109,365,239),(175,65,366),(364,366,65),(66,365,175),(239,365,66),(175,366,113),(134,113,366),(364,134,366),(174,175,113),(66,175,174),(134,367,113),(174,113,367),(364,21,134),(367,134,21),(174,367,368),(367,21,368),(174,368,369),(66,174,369),(137,368,21),(137,369,368),(364,171,21),(171,370,21),(137,21,370),(364,371,171),(364,64,371),(64,135,371),(371,169,171),(171,169,370),(135,136,371),(371,136,169),(135,168,136),(62,168,135),(62,138,168),(164,138,62),(136,168,372),(138,372,168),(169,136,373),(136,372,373),(164,374,138),(100,374,164),(374,375,138),(138,375,372),(100,139,374),(374,376,375),(139,376,374),(372,375,29),(376,29,375),(372,29,28),(376,30,29),(372,28,20),(372,20,373),(376,31,30),(377,373,20),(169,373,377),(377,20,25),(169,377,170),(170,377,25),(170,25,24),(169,170,370),(170,24,23),(370,170,378),(170,23,378),(370,378,137),(379,378,23),(137,378,379),(379,23,22),(379,22,19),(137,379,380),(137,380,369),(379,19,381),(381,19,38),(172,380,379),(172,379,381),(369,380,172),(381,38,382),(172,381,382),(382,38,37),(369,172,383),(382,37,384),(66,369,383),(172,382,385),(385,382,384),(384,37,36),(172,385,173),(172,173,383),(385,384,386),(386,173,385),(384,36,387),(35,386,384),(35,384,387),(388,387,36),(35,387,388),(388,36,31),(376,388,31),(139,388,376),(35,388,139),(35,141,386),(386,141,173),(140,35,139),(140,139,100),(35,140,141),(389,173,141),(141,42,389),(389,390,173),(391,390,389),(42,391,389),(173,390,241),(173,241,383),(33,141,140),(392,241,390),(391,392,390),(44,392,391),(44,45,392),(43,44,391),(45,393,392),(392,393,241),(45,46,393),(43,391,394),(42,394,391),(395,43,394),(395,394,42),(395,39,43),(46,396,393),(241,393,396),(46,51,396),(396,51,53),(397,39,395),(397,40,39),(41,40,397),(397,395,231),(395,42,231),(41,397,398),(142,231,42),(141,142,42),(142,101,231),(142,141,33),(101,232,231),(397,231,232),(398,397,232),(101,81,232),(81,143,232),(398,232,143),(81,233,143),(399,41,398),(399,398,143),(399,47,41),(48,47,399),(233,400,143),(399,143,400),(233,401,400),(236,401,233),(234,399,400),(401,234,400),(80,401,236),(234,402,399),(48,399,402),(401,105,234),(80,105,401),(235,402,234),(105,235,234),(403,48,402),(235,403,402),(403,49,48),(404,49,403),(404,403,235),(404,52,49),(53,52,404),(53,404,405),(396,53,405),(404,235,406),(405,404,406),(396,405,50),(405,406,50),(396,50,242),(241,396,242),(240,241,242),(50,240,242),(240,383,241),(66,383,240),(407,406,235),(105,407,235),(144,50,406),(407,144,406),(408,407,105),(144,407,408),(408,105,80),(144,409,50),(50,409,240),(66,240,238),(238,240,409),(239,66,238),(410,409,144),(238,409,410),(144,408,107),(410,144,107),(411,238,410),(107,411,410),(411,239,238),(107,237,411),(237,239,411),(408,237,107),(237,412,239),(408,412,237),(80,412,408),(67,239,412),(80,343,412),(343,67,412),(59,297,299),(220,297,59),(59,299,413),(299,217,413),(59,414,220),(413,415,59),(59,415,414),(416,413,217),(413,417,415),(416,417,413),(415,418,414),(220,414,419),(220,419,222),(414,418,95),(414,95,419),(415,420,418),(95,418,420),(415,417,421),(415,421,420),(416,421,417),(422,95,420),(422,420,421),(221,419,95),(221,95,422),(423,222,419),(423,419,221),(222,423,218),(56,218,423),(423,424,56),(423,221,424),(424,94,56),(221,422,219),(221,219,424),(425,422,421),(425,219,422),(416,425,421),(426,219,425),(426,425,416),(219,427,424),(219,426,427),(424,427,94),(426,416,427),(427,217,94),(427,416,217),(428,224,429),(224,428,98),(224,223,429),(430,98,428),(430,140,98),(428,429,225),(430,428,225),(33,140,430),(430,225,431),(432,430,431),(432,33,430),(433,431,225),(432,431,433),(225,429,434),(433,225,435),(225,434,435),(435,436,433),(432,433,436),(226,435,434),(435,226,436),(32,432,436),(32,33,432),(32,436,226),(32,34,33),(429,437,434),(226,434,437),(429,223,437),(99,437,223),(319,99,223),(438,226,437),(99,438,437),(99,319,439),(319,227,439),(438,99,440),(99,439,440),(227,230,439),(440,439,230),(227,142,230),(142,33,230),(440,230,441),(442,230,33),(442,441,230),(32,442,33),(443,440,441),(443,441,442),(444,442,32),(443,442,444),(444,32,226),(443,445,440),(445,443,444),(445,444,226),(438,440,445),(438,445,226),(446,447,76),(447,446,73),(447,251,76),(446,76,448),(129,446,448),(129,73,446),(76,253,448),(129,245,73),(129,448,247),(247,448,253),(178,129,247),(245,246,73),(178,247,449),(63,178,449),(247,253,450),(449,247,450),(76,252,253),(252,76,251),(253,451,450),(252,254,253),(253,254,451),(449,450,452),(452,450,451),(449,452,453),(63,449,262),(449,453,262),(63,262,454),(353,63,454),(453,261,262),(262,74,454),(262,261,74),(453,455,261),(452,456,453),(455,453,456),(452,457,456),(452,451,457),(455,456,131),(261,455,131),(131,456,457),(457,451,27),(27,451,254),(131,457,259),(457,27,259),(261,131,458),(458,131,259),(261,458,459),(261,459,74),(260,459,458),(74,459,260),(458,259,460),(460,259,27),(260,458,460),(460,27,461),(257,260,460),(257,460,461),(27,258,461),(258,257,461),(27,462,258),(27,254,462),(258,256,257),(463,462,254),(252,463,254),(258,462,132),(463,132,462),(258,132,464),(464,256,258),(463,465,132),(465,464,132),(133,463,252),(133,465,463),(252,251,133),(465,255,464),(464,255,256),(466,255,465),(466,465,133),(466,256,255),(133,251,467),(133,467,466),(466,75,256),(75,257,256),(466,467,128),(466,128,75),(75,250,257),(128,250,75),(250,260,257),(467,468,128),(250,469,260),(74,260,469),(128,249,250),(249,469,250),(130,74,469),(249,130,469),(130,454,74),(128,72,249),(72,130,249),(128,468,72),(470,454,130),(72,470,130),(470,353,454),(353,470,246),(72,246,470),(353,246,352),(72,471,246),(468,471,72),(471,73,246),(471,248,73),(447,73,248),(468,472,471),(248,471,472),(468,473,472),(474,447,248),(447,474,251),(248,472,475),(475,472,473),(474,248,475),(468,476,473),(476,475,473),(476,474,475),(251,474,476),(467,476,468),(251,476,467),(477,202,119),(202,477,117),(117,477,26),(117,26,191),(202,117,478),(478,117,205),(478,479,202),(479,119,202),(478,205,112),(118,191,26),(477,119,480),(480,26,477),(193,480,119),(481,118,26),(480,192,26),(481,26,192),(482,192,480),(193,482,480),(122,481,192),(482,483,192),(122,192,483),(484,483,482),(193,484,482),(122,483,485),(484,485,483),(486,122,485),(486,485,484),(481,122,486),(481,486,83),(118,481,83),(487,486,484),(193,487,484),(487,194,486),(194,83,486),(488,487,193),(118,83,489),(118,489,77),(489,207,77),(77,207,106),(114,489,83),(489,114,207),(114,83,195),(194,195,83),(490,207,114),(491,106,207),(491,207,490),(106,491,112),(492,114,195),(490,114,492),(196,195,194),(492,195,196),(493,490,492),(196,493,492),(491,490,82),(196,194,494),(493,495,490),(495,82,490),(196,199,493),(494,199,196),(493,496,495),(495,496,82),(197,494,194),(197,194,487),(493,201,496),(201,493,199),(488,197,487),(201,199,497),(197,121,494),(494,121,199),(197,84,121),(200,497,199),(200,199,121),(201,497,498),(200,498,497),(499,84,197),(499,197,488),(198,121,84),(198,84,499),(198,200,121),(198,499,500),(200,198,500),(501,499,488),(499,501,500),(200,500,502),(502,500,501),(200,502,498),(501,488,123),(123,488,193),(123,193,119),(502,501,116),(116,501,123),(498,502,116),(479,123,119),(116,123,479),(498,116,203),(203,116,479),(203,479,503),(478,503,479),(112,503,478),(115,203,503),(112,115,503),(204,498,203),(115,204,203),(204,504,498),(201,498,504),(496,201,504),(496,504,505),(204,505,504),(82,496,505),(506,204,115),(204,506,505),(82,505,507),(507,505,506),(82,507,206),(507,506,206),(506,115,206),(112,206,115),(82,206,491),(112,491,206)]

suzane_mesh = [shape_suz_vert,shape_suz_order]

shape_cube_vert = [(-0.5,0.5,0.5),(0.5,0.5,-0.5),(0.5,0.5,0.5),(-0.5,0.5,-0.5),(-0.5,-0.5,0.5),(0.5,-0.5,-0.5),(0.5,-0.5,0.5),(-0.5,-0.5,-0.5)]
shape_cube_order = [(1,3,5),(3,7,5),(2,4,6),(4,8,6),(3,2,7),(2,6,7),(4,1,8),(1,5,8),(3,1,2),(1,4,2),(5,7,8),(7,6,8)]

cube_mesh = [shape_cube_vert,shape_cube_order]

shape_plane_vert = [(-0.5,0,0.5),(0.5,0,-0.5),(0.5,0,0.5),(-0.5,0,-0.5)]
shape_plane_order = [(1,2,3),(2,4,1)]

plane_mesh = [shape_plane_vert,shape_plane_order]

shape_sphere_order = [(259,260,72),(72,260,22),(259,261,260),(262,259,72),(261,138,260),(260,138,22),(137,261,259),(262,72,263),(263,72,22),(264,259,262),(264,137,259),(144,262,263),(265,264,262),(265,262,144),(144,263,266),(266,263,22),(267,265,144),(268,144,266),(267,144,268),(268,266,80),(80,266,22),(269,267,268),(147,268,80),(269,268,147),(147,80,133),(133,80,22),(270,269,147),(149,147,133),(270,147,149),(149,133,271),(271,133,22),(272,270,149),(135,149,271),(272,149,135),(135,271,50),(50,271,22),(273,272,135),(274,135,50),(273,135,274),(274,50,275),(275,50,22),(276,273,274),(166,274,275),(276,274,166),(166,275,167),(167,275,22),(277,276,166),(278,166,167),(277,166,278),(278,167,4),(4,167,22),(279,277,278),(280,278,4),(279,278,280),(280,4,281),(281,4,22),(282,279,280),(131,280,281),(282,280,131),(131,281,283),(283,281,22),(172,282,131),(173,131,283),(172,131,173),(173,283,51),(51,283,22),(284,172,173),(174,173,51),(284,173,174),(174,51,285),(285,51,22),(188,284,174),(286,174,285),(188,174,286),(286,285,287),(287,285,22),(288,188,286),(130,286,287),(288,286,130),(130,287,189),(189,287,22),(191,288,130),(190,130,189),(191,130,190),(190,189,289),(289,189,22),(290,191,190),(128,190,289),(290,190,128),(128,289,291),(291,289,22),(201,290,128),(202,128,291),(201,128,202),(202,291,292),(292,291,22),(293,201,202),(126,202,292),(293,202,126),(126,292,294),(294,292,22),(204,293,126),(206,126,294),(204,126,206),(206,294,295),(295,294,22),(296,204,206),(10,206,295),(296,206,10),(10,295,297),(297,295,22),(227,296,10),(125,10,297),(227,10,125),(125,297,298),(298,297,22),(299,227,125),(228,125,298),(299,125,228),(228,298,14),(14,298,22),(230,299,228),(229,228,14),(230,228,229),(229,14,300),(300,14,22),(301,230,229),(69,229,300),(301,229,69),(69,300,302),(302,300,22),(231,301,69),(81,69,302),(231,69,81),(81,302,303),(303,302,22),(233,231,81),(304,81,303),(233,81,304),(305,303,22),(304,303,305),(232,305,22),(306,304,305),(306,305,232),(79,233,304),(79,304,306),(307,232,22),(138,307,22),(308,306,232),(308,232,307),(309,307,138),(309,308,307),(261,309,138),(21,306,308),(21,79,306),(237,308,309),(237,21,308),(71,309,261),(71,237,309),(137,71,261),(238,21,237),(310,79,21),(238,310,21),(310,236,79),(236,233,79),(311,237,71),(311,238,237),(68,71,137),(68,311,71),(73,68,137),(73,137,264),(140,311,68),(142,73,264),(142,264,265),(139,68,73),(139,140,68),(43,73,142),(43,139,73),(76,142,265),(76,265,267),(145,43,142),(145,142,76),(312,139,43),(313,43,145),(313,312,43),(42,76,267),(42,267,269),(314,145,76),(314,76,42),(315,313,145),(315,145,314),(148,42,269),(148,269,270),(150,314,42),(150,42,148),(316,315,314),(316,314,150),(136,148,270),(136,270,272),(317,150,148),(317,148,136),(318,316,150),(318,150,317),(134,136,272),(134,272,273),(7,317,136),(7,136,134),(319,318,317),(319,317,7),(49,134,273),(49,273,276),(164,7,134),(164,134,49),(320,319,7),(320,7,164),(107,49,276),(107,276,277),(165,164,49),(165,49,107),(321,320,164),(321,164,165),(32,107,277),(32,277,279),(168,165,107),(168,107,32),(322,321,165),(322,165,168),(132,32,279),(132,279,282),(169,168,32),(169,32,132),(323,322,168),(323,168,169),(324,132,282),(324,282,172),(171,169,132),(171,132,324),(325,323,169),(325,169,171),(326,324,172),(326,172,284),(48,171,324),(48,324,326),(176,325,171),(176,171,48),(327,326,284),(327,284,188),(30,48,326),(30,326,327),(186,176,48),(186,48,30),(328,327,188),(328,188,288),(52,30,327),(52,327,328),(187,186,30),(187,30,52),(329,328,288),(329,288,191),(129,52,328),(129,328,329),(192,187,52),(192,52,129),(330,329,191),(330,191,290),(53,129,329),(53,329,330),(193,192,129),(193,129,53),(331,330,290),(331,290,201),(127,53,330),(127,330,331),(199,193,53),(199,53,127),(332,331,201),(332,201,293),(58,127,331),(58,331,332),(200,199,127),(200,127,58),(333,332,293),(333,293,204),(19,58,332),(19,332,333),(203,200,58),(203,58,19),(334,333,204),(334,204,296),(124,19,333),(124,333,334),(207,203,19),(207,19,124),(335,334,296),(335,296,227),(26,124,334),(26,334,335),(217,207,124),(217,124,26),(336,335,227),(336,227,299),(123,26,335),(123,335,336),(218,217,26),(218,26,123),(337,336,299),(337,299,230),(70,123,336),(70,336,337),(225,218,123),(225,123,70),(338,337,230),(338,230,301),(84,70,337),(84,337,338),(226,225,70),(226,70,84),(339,338,301),(339,301,231),(340,84,338),(340,338,339),(25,226,84),(25,84,340),(341,339,231),(341,231,233),(236,341,233),(342,339,341),(342,340,339),(343,341,236),(343,342,341),(344,343,236),(344,236,310),(9,342,343),(65,340,342),(9,65,342),(65,25,340),(66,9,343),(66,343,344),(235,65,9),(78,9,66),(78,235,9),(83,25,65),(235,83,65),(83,345,25),(345,226,25),(346,83,235),(345,347,226),(347,225,226),(348,345,83),(346,348,83),(85,347,345),(348,85,345),(347,349,225),(349,218,225),(85,223,347),(223,349,347),(349,350,218),(350,217,218),(223,119,349),(119,350,349),(350,351,217),(351,207,217),(119,59,350),(59,351,350),(351,352,207),(352,203,207),(59,122,351),(122,352,351),(352,353,203),(353,200,203),(122,57,352),(57,353,352),(353,354,200),(354,199,200),(57,205,353),(205,354,353),(354,355,199),(355,193,199),(205,356,354),(356,355,354),(355,357,193),(357,192,193),(356,11,355),(11,357,355),(357,358,192),(358,187,192),(11,113,357),(113,358,357),(358,359,187),(359,186,187),(113,8,358),(8,359,358),(359,360,186),(360,176,186),(8,47,359),(47,360,359),(360,361,176),(361,325,176),(47,185,360),(185,361,360),(361,362,325),(362,323,325),(185,363,361),(363,362,361),(362,364,323),(364,322,323),(363,175,362),(175,364,362),(364,105,322),(105,321,322),(175,45,364),(45,105,364),(105,33,321),(33,320,321),(45,104,105),(104,33,105),(33,162,320),(162,319,320),(104,365,33),(365,162,33),(162,366,319),(366,318,319),(365,159,162),(159,366,162),(366,151,318),(151,316,318),(159,98,366),(98,151,366),(151,34,316),(34,315,316),(98,97,151),(97,34,151),(34,146,315),(146,313,315),(97,152,34),(152,146,34),(146,13,313),(13,312,313),(152,94,146),(94,13,146),(367,152,97),(368,94,152),(367,368,152),(369,367,97),(369,97,98),(153,368,367),(99,367,369),(99,153,367),(370,369,98),(370,98,159),(158,99,369),(158,369,370),(40,153,99),(17,99,158),(17,40,99),(371,370,159),(371,159,365),(161,158,370),(161,370,371),(101,17,158),(101,158,161),(372,371,365),(372,365,104),(163,161,371),(163,371,372),(102,101,161),(102,161,163),(373,372,104),(373,104,45),(170,163,372),(170,372,373),(44,102,163),(44,163,170),(106,373,45),(106,45,175),(374,170,373),(374,373,106),(18,44,170),(18,170,374),(46,106,175),(46,175,363),(375,374,106),(375,106,46),(177,18,374),(177,374,375),(181,46,363),(181,363,185),(376,375,46),(376,46,181),(180,177,375),(180,375,376),(377,181,185),(377,185,47),(378,376,181),(378,181,377),(183,180,376),(183,376,378),(110,377,47),(110,47,8),(379,378,377),(379,377,110),(380,183,378),(380,378,379),(111,110,8),(111,8,113),(381,379,110),(381,110,111),(194,380,379),(194,379,381),(28,111,113),(28,113,11),(382,381,111),(382,111,28),(197,194,381),(197,381,382),(54,28,11),(54,11,356),(383,382,28),(383,28,54),(198,197,382),(198,382,383),(208,54,356),(208,356,205),(384,383,54),(384,54,208),(209,198,383),(209,383,384),(385,208,205),(385,205,57),(386,384,208),(386,208,385),(210,209,384),(210,384,386),(121,385,57),(121,57,122),(387,386,385),(387,385,121),(388,210,386),(388,386,387),(216,121,122),(216,122,59),(389,387,121),(389,121,216),(214,388,387),(214,387,389),(118,216,59),(118,59,119),(390,389,216),(390,216,118),(215,214,389),(215,389,390),(15,118,119),(15,119,223),(391,390,118),(391,118,15),(117,215,390),(117,390,391),(87,15,223),(87,223,85),(392,391,15),(392,15,87),(221,117,391),(221,391,392),(86,87,85),(86,85,348),(393,392,87),(393,87,86),(394,221,392),(394,392,393),(234,86,348),(234,348,346),(24,393,86),(24,86,234),(395,394,393),(395,393,24),(2,221,394),(396,394,395),(396,2,394),(2,116,221),(116,117,221),(224,2,396),(116,61,117),(61,215,117),(89,116,2),(224,89,2),(397,61,116),(89,397,116),(61,213,215),(213,214,215),(397,398,61),(398,213,61),(213,16,214),(16,388,214),(398,399,213),(399,16,213),(16,120,388),(120,210,388),(399,400,16),(400,120,16),(120,27,210),(27,209,210),(400,401,120),(401,27,120),(27,56,209),(56,198,209),(401,402,27),(402,56,27),(56,55,198),(55,197,198),(402,403,56),(403,55,56),(55,112,197),(112,194,197),(403,404,55),(404,112,55),(112,29,194),(29,380,194),(404,405,112),(405,29,112),(29,184,380),(184,183,380),(405,406,29),(406,184,29),(184,108,183),(108,180,183),(406,407,184),(407,108,184),(108,31,180),(31,177,180),(407,408,108),(408,31,108),(31,178,177),(178,18,177),(408,409,31),(409,178,31),(178,410,18),(410,44,18),(409,411,178),(411,410,178),(410,412,44),(412,102,44),(411,413,410),(413,412,410),(412,414,102),(414,101,102),(413,415,412),(415,414,412),(414,416,101),(416,17,101),(415,160,414),(160,416,414),(416,417,17),(417,40,17),(160,418,416),(418,417,416),(41,160,415),(100,418,160),(41,100,160),(419,41,415),(419,415,413),(420,100,41),(421,41,419),(421,420,41),(422,419,413),(422,413,411),(103,421,419),(103,419,422),(5,420,421),(5,421,103),(420,257,100),(5,257,420),(257,423,100),(100,423,418),(424,103,422),(5,103,424),(179,422,411),(424,422,179),(179,411,409),(425,424,179),(5,424,425),(426,179,409),(425,179,426),(426,409,408),(1,425,426),(5,425,1),(427,426,408),(1,426,427),(427,408,407),(182,1,427),(5,1,182),(428,427,407),(182,427,428),(428,407,406),(429,182,428),(5,182,429),(195,428,406),(429,428,195),(195,406,405),(196,429,195),(5,429,196),(430,195,405),(196,195,430),(430,405,404),(109,196,430),(5,196,109),(211,430,404),(109,430,211),(211,404,403),(431,109,211),(5,109,431),(432,211,403),(431,211,432),(432,403,402),(114,431,432),(5,431,114),(433,432,402),(114,432,433),(433,402,401),(115,114,433),(5,114,115),(434,433,401),(115,433,434),(434,401,400),(435,115,434),(5,115,435),(212,434,400),(435,434,212),(212,400,399),(60,435,212),(5,435,60),(436,212,399),(60,212,436),(436,399,398),(220,60,436),(5,60,220),(219,436,398),(220,436,219),(219,398,397),(62,220,219),(5,220,62),(437,219,397),(62,219,437),(437,397,89),(222,62,437),(5,62,222),(438,437,89),(222,437,438),(438,89,224),(439,222,438),(5,222,439),(440,438,224),(439,438,440),(440,224,63),(63,224,396),(247,439,440),(5,439,247),(441,440,63),(247,440,441),(63,396,258),(258,396,395),(441,63,88),(88,63,258),(442,247,441),(5,247,442),(443,441,88),(442,441,443),(258,395,444),(444,395,24),(88,258,445),(445,258,444),(443,88,36),(36,88,445),(446,442,443),(5,442,446),(91,443,36),(446,443,91),(36,445,246),(447,446,91),(5,446,447),(91,36,245),(245,36,246),(447,91,20),(20,91,245),(448,447,20),(5,447,448),(246,445,449),(445,444,449),(245,246,450),(20,245,451),(451,245,450),(450,246,452),(246,449,452),(449,444,64),(444,24,64),(64,24,234),(449,64,82),(452,449,82),(64,234,242),(82,64,242),(242,234,346),(242,346,453),(453,346,235),(453,235,78),(77,242,453),(82,242,77),(454,453,78),(77,453,454),(3,82,77),(452,82,3),(455,77,454),(3,77,455),(454,78,239),(239,78,66),(455,454,456),(456,454,239),(244,452,3),(450,452,244),(90,3,455),(244,3,90),(241,455,456),(90,455,241),(457,450,244),(451,450,457),(35,244,90),(457,244,35),(243,90,241),(35,90,243),(241,456,458),(459,457,35),(243,241,460),(460,241,458),(6,35,243),(459,35,6),(251,243,460),(6,243,251),(249,457,459),(249,451,457),(461,459,6),(248,451,249),(248,20,451),(448,20,248),(462,249,459),(462,459,461),(250,248,249),(250,249,462),(463,448,248),(463,248,250),(5,448,463),(464,463,250),(5,463,464),(37,250,462),(464,250,37),(37,462,254),(254,462,461),(23,464,37),(5,464,23),(255,37,254),(23,37,255),(254,461,465),(466,23,255),(5,23,466),(255,254,467),(467,254,465),(466,255,93),(93,255,467),(5,466,256),(256,466,93),(465,461,38),(461,6,38),(38,6,251),(465,38,92),(38,251,253),(92,38,253),(253,251,468),(251,460,468),(92,253,155),(469,465,92),(467,465,469),(469,92,39),(39,92,155),(156,467,469),(93,467,156),(470,469,39),(156,469,470),(95,93,156),(256,93,95),(471,156,470),(95,156,471),(472,256,95),(5,256,472),(473,95,471),(472,95,473),(5,472,474),(474,472,473),(5,474,257),(257,474,423),(474,473,423),(423,473,157),(473,471,157),(423,157,418),(418,157,417),(157,471,475),(157,475,417),(471,470,475),(417,475,40),(475,470,96),(475,96,40),(470,39,96),(40,96,153),(96,39,154),(96,154,153),(39,155,154),(153,154,368),(154,476,368),(154,155,476),(368,476,94),(155,477,476),(155,253,477),(253,468,477),(476,478,94),(476,477,478),(94,478,13),(477,468,252),(477,252,478),(478,143,13),(478,252,143),(13,143,312),(468,479,252),(468,460,479),(460,458,479),(252,479,74),(252,74,143),(143,480,312),(143,74,480),(312,480,139),(480,140,139),(479,458,12),(479,12,74),(74,141,480),(480,141,140),(74,12,141),(458,240,12),(458,456,240),(456,239,240),(12,240,67),(12,67,141),(240,239,75),(240,75,67),(239,66,75),(75,66,344),(75,344,481),(67,75,481),(481,344,310),(481,310,238),(67,481,482),(482,481,238),(141,67,482),(482,238,311),(141,482,140),(140,482,311)]
shape_sphere_vert = [(-0.0,-0.19509,-0.980785),(0.587938,0.392847,-0.707107),(0.18024,0.906127,-0.382683),(-0.191342,-0.03806,0.980785),(0.0,0.0,-1.0),(-0.318189,0.768177,-0.55557),(-0.815493,0.162212,0.55557),(-0.0,-0.999999,0.0),(0.653281,0.653281,0.382683),(0.31819,-0.212608,0.92388),(0.382683,-0.923879,0.0),(0.0,0.980785,0.19509),(-0.544895,0.815493,0.19509),(0.191342,-0.03806,0.980785),(0.96194,0.191342,-0.19509),(0.69352,-0.13795,-0.707107),(-0.831469,0.0,-0.55557),(-0.587938,-0.587937,-0.55557),(0.587938,-0.587938,0.55557),(-0.074658,0.37533,-0.92388),(0.308658,0.46194,0.83147),(0.0,0.0,1.0),(-0.162212,0.108386,-0.980785),(0.653281,0.653281,-0.382683),(0.853553,0.353553,0.382683),(0.768178,-0.31819,0.55557),(0.587938,-0.392847,-0.707107),(0.37533,-0.906127,-0.19509),(0.13795,-0.69352,-0.707107),(-0.31819,-0.768177,0.55557),(-0.270598,-0.653281,-0.707107),(-0.653281,-0.270598,0.707107),(-0.961939,-0.191341,0.19509),(-0.815493,0.544895,0.19509),(-0.162211,0.815493,-0.55557),(0.108386,0.544895,-0.83147),(-0.270598,0.270598,-0.92388),(-0.461939,0.691341,-0.55557),(-0.691341,0.46194,-0.55557),(-0.815493,0.162212,-0.55557),(-0.31819,-0.212607,-0.92388),(-0.5,0.5,0.707107),(-0.318189,0.768177,0.55557),(-0.691341,-0.461939,-0.55557),(-0.831469,-0.555569,0.0),(-0.544895,-0.815493,-0.19509),(-0.195091,-0.980785,0.0),(-0.46194,-0.691341,0.55557),(-0.707107,0.0,0.707107),(-0.18024,0.074658,0.980785),(-0.13795,-0.13795,0.980785),(-0.162212,-0.815493,0.55557),(0.162212,-0.815493,0.55557),(0.544895,-0.815493,-0.19509),(0.392847,-0.587938,-0.707107),(0.5,-0.5,-0.707107),(0.831469,-0.55557,0.0),(0.46194,-0.691342,0.55557),(0.980785,-0.19509,0.0),(0.191342,0.03806,-0.980785),(0.69352,0.13795,-0.707107),(0.162212,0.108386,-0.980785),(0.308658,0.46194,-0.83147),(0.51328,0.768178,-0.382683),(0.768178,0.51328,0.382683),(0.51328,0.768178,0.382683),(0.18024,0.906127,0.382683),(0.0,0.707107,0.707107),(0.37533,0.074658,0.92388),(0.831469,-0.0,0.55557),(0.108386,0.544895,0.83147),(0.0,0.19509,0.980785),(-0.13795,0.69352,0.707107),(-0.191341,0.961939,0.19509),(0.353553,0.853553,0.382683),(-0.392847,0.587938,0.707107),(0.37533,0.906127,-0.19509),(0.544895,0.815493,0.19509),(0.392847,0.392847,0.83147),(-0.108386,0.162212,0.980785),(0.353553,0.146447,0.92388),(0.353553,0.853553,-0.382683),(0.815493,0.544895,0.19509),(0.815493,0.162212,0.55557),(0.923879,0.382683,0.0),(0.815493,0.544895,-0.19509),(0.906127,0.37533,-0.19509),(0.212608,0.51328,-0.83147),(0.46194,0.308658,-0.83147),(0.0,0.923879,-0.382683),(0.0,0.382683,-0.92388),(-0.587937,0.587938,-0.55557),(-0.353553,0.146447,-0.92388),(-0.707106,0.707106,0.0),(-0.37533,0.074658,-0.92388),(-0.768177,0.31819,-0.55557),(-0.923878,0.382683,0.0),(-0.980784,0.195091,0.0),(-0.906127,0.18024,-0.382683),(-0.353553,-0.146447,-0.92388),(-0.815493,-0.162211,-0.55557),(-0.768177,-0.318189,-0.55557),(-0.108386,-0.162212,-0.980785),(-0.923879,-0.382683,0.0),(-0.906127,-0.37533,0.19509),(-0.69352,-0.69352,-0.19509),(-0.69352,-0.13795,0.707107),(-0.13795,-0.69352,-0.707107),(0.13795,-0.13795,-0.980785),(-0.0,-0.980785,-0.19509),(0.191342,-0.961939,-0.19509),(0.270598,-0.653281,-0.707107),(0.19509,-0.980785,0.0),(0.18024,-0.074658,-0.980785),(0.191342,-0.03806,-0.980785),(0.653281,0.270598,-0.707107),(0.815493,0.162212,-0.55557),(0.980785,-0.0,-0.19509),(1.0,-0.0,0.0),(0.653281,-0.270598,-0.707107),(0.906127,-0.37533,-0.19509),(0.923879,-0.382683,0.0),(0.815493,-0.162212,0.55557),(0.691341,-0.46194,0.55557),(0.353553,-0.146447,0.92388),(0.212607,-0.31819,0.92388),(0.318189,-0.768178,0.55557),(0.074658,-0.37533,0.92388),(-0.0,-0.831469,0.55557),(-0.074658,-0.37533,0.92388),(-0.31819,-0.212607,0.92388),(-0.587938,-0.392847,0.707107),(-0.13795,0.13795,0.980785),(-0.69352,0.13795,0.707107),(-0.353553,0.146447,0.92388),(-0.653281,0.270598,0.707107),(0.0,0.55557,0.83147),(0.074658,0.18024,0.980785),(-0.162211,0.815493,0.55557),(0.0,0.83147,0.55557),(0.0,0.923879,0.382683),(-0.270598,0.653281,0.707107),(-0.37533,0.906127,0.19509),(-0.146446,0.353553,0.92388),(-0.461939,0.691341,0.55557),(-0.693519,0.69352,0.19509),(-0.270598,0.270598,0.92388),(-0.587938,0.392847,0.707107),(-0.318189,0.212607,0.92388),(-0.691341,0.46194,0.55557),(-0.906127,0.37533,0.19509),(-0.831468,0.55557,0.0),(-0.853553,0.353553,-0.382683),(-0.768177,0.51328,-0.382683),(-0.653281,0.653281,-0.382683),(-0.513279,0.212607,-0.83147),(-0.55557,0.0,-0.83147),(-0.923879,0.0,-0.382683),(-0.999999,0.0,0.0),(-0.51328,-0.212607,-0.83147),(-0.906127,-0.18024,-0.382683),(-0.980785,0.0,0.19509),(-0.853553,-0.353553,-0.382683),(-0.831469,0.0,0.55557),(-0.815493,-0.162211,0.55557),(-0.382683,0.0,0.92388),(-0.19509,0.0,0.980785),(-0.768177,-0.318189,0.55557),(-0.691341,-0.461939,0.55557),(-0.768177,-0.51328,-0.382683),(-0.587938,-0.587937,0.55557),(-0.392847,-0.392847,0.83147),(-0.270598,-0.270598,0.92388),(-0.212608,-0.31819,0.92388),(-0.707106,-0.707106,0.0),(-0.51328,-0.768178,0.382683),(-0.46194,-0.691341,-0.55557),(-0.392847,-0.587938,-0.707107),(-0.146447,-0.353553,-0.92388),(-0.31819,-0.768177,-0.55557),(-0.37533,-0.906127,-0.19509),(0.03806,-0.191342,-0.980785),(-0.162212,-0.815493,-0.55557),(-0.0,-0.707107,-0.707107),(-0.382683,-0.923879,0.0),(-0.353553,-0.853553,0.382683),(-0.18024,-0.906127,0.382683),(-0.212608,-0.51328,0.83147),(-0.03806,-0.191342,0.980785),(-0.0,-0.382683,0.92388),(-0.0,-0.55557,0.83147),(0.0,-0.923879,0.382683),(0.18024,-0.906127,0.382683),(0.162212,-0.815493,-0.55557),(0.146447,-0.353553,-0.92388),(0.108386,-0.162212,-0.980785),(0.318189,-0.768178,-0.55557),(0.46194,-0.691342,-0.55557),(0.353553,-0.853553,0.382683),(0.51328,-0.768178,0.382683),(0.212607,-0.51328,0.83147),(0.146447,-0.353553,0.92388),(0.653281,-0.653281,0.382683),(0.392847,-0.392847,0.83147),(0.707106,-0.707107,0.0),(0.270598,-0.270598,0.92388),(0.768178,-0.51328,0.382683),(0.69352,-0.69352,-0.19509),(0.587938,-0.587938,-0.55557),(0.691341,-0.46194,-0.55557),(0.270598,-0.270598,-0.92388),(0.382683,-0.0,-0.92388),(0.707107,0.0,-0.707107),(0.815493,-0.162212,-0.55557),(0.831469,-0.0,-0.55557),(0.96194,-0.191342,-0.19509),(0.853553,-0.353553,0.382683),(0.906127,-0.18024,0.382683),(0.353553,0.146447,-0.92388),(0.18024,0.074658,-0.980785),(0.768178,0.31819,-0.55557),(0.13795,0.13795,-0.980785),(0.980785,0.19509,0.0),(0.392847,0.392847,-0.83147),(0.923879,0.0,0.382683),(0.906127,0.18024,0.382683),(0.51328,-0.212608,0.83147),(0.37533,-0.074658,0.92388),(0.382683,-0.0,0.92388),(0.55557,-0.0,0.83147),(0.51328,0.212607,0.83147),(0.13795,0.13795,0.980785),(0.46194,0.308658,0.83147),(0.69352,0.69352,-0.19509),(0.69352,0.69352,0.19509),(0.5,0.5,0.707107),(0.212608,0.51328,0.83147),(0.270598,0.653281,0.707107),(0.37533,0.906127,0.19509),(0.191342,0.96194,0.19509),(0.0,0.980785,-0.19509),(0.544895,0.815493,-0.19509),(-0.18024,0.906127,-0.382683),(0.0,0.83147,-0.55557),(0.0,0.55557,-0.83147),(0.13795,0.69352,-0.707107),(0.074658,0.18024,-0.980785),(-0.146446,0.353553,-0.92388),(-0.212607,0.513279,-0.83147),(-0.212607,0.31819,-0.92388),(-0.353553,0.853553,-0.382683),(-0.382683,0.923879,0.0),(-0.51328,0.768177,-0.382683),(-0.392847,0.392847,-0.83147),(-0.318189,0.212607,-0.92388),(-0.191342,0.03806,-0.980785),(-0.18024,-0.074658,-0.980785),(0.392847,0.587938,-0.707107),(0.0,0.382683,0.92388),(0.03806,0.191342,0.980785),(0.074658,0.37533,0.92388),(-0.074658,0.37533,0.92388),(-0.03806,0.191342,0.980785),(-0.108386,0.544895,0.83147),(-0.212607,0.513279,0.83147),(-0.074658,0.18024,0.980785),(-0.308658,0.461939,0.83147),(-0.212607,0.31819,0.92388),(-0.392847,0.392847,0.83147),(-0.461939,0.308658,0.83147),(-0.162212,0.108386,0.980785),(-0.513279,0.212607,0.83147),(-0.544895,0.108386,0.83147),(-0.37533,0.074658,0.92388),(-0.191342,0.03806,0.980785),(-0.55557,0.0,0.83147),(-0.544895,-0.108386,0.83147),(-0.37533,-0.074658,0.92388),(-0.51328,-0.212607,0.83147),(-0.353553,-0.146447,0.92388),(-0.18024,-0.074658,0.980785),(-0.46194,-0.308658,0.83147),(-0.162212,-0.108386,0.980785),(-0.308658,-0.461939,0.83147),(-0.108386,-0.162212,0.980785),(-0.146447,-0.353553,0.92388),(-0.074658,-0.18024,0.980785),(-0.108386,-0.544895,0.83147),(-0.0,-0.19509,0.980785),(0.108386,-0.544895,0.83147),(0.03806,-0.191342,0.980785),(0.074658,-0.18024,0.980785),(0.308658,-0.46194,0.83147),(0.108386,-0.162212,0.980785),(0.13795,-0.13795,0.980785),(0.46194,-0.308658,0.83147),(0.162212,-0.108386,0.980785),(0.18024,-0.074658,0.980785),(0.544895,-0.108386,0.83147),(0.19509,-0.0,0.980785),(0.544895,0.108386,0.83147),(0.191342,0.03806,0.980785),(0.18024,0.074658,0.980785),(0.31819,0.212608,0.92388),(0.162212,0.108386,0.980785),(0.270598,0.270598,0.92388),(0.108386,0.162212,0.980785),(0.212608,0.31819,0.92388),(0.146447,0.353553,0.92388),(0.392847,0.587938,0.707107),(0.13795,0.69352,0.707107),(-0.353553,0.853553,0.382683),(-0.51328,0.768177,0.382683),(-0.587937,0.587938,0.55557),(-0.653281,0.653281,0.382683),(-0.768177,0.51328,0.382683),(-0.768177,0.31819,0.55557),(-0.853553,0.353553,0.382683),(-0.906127,0.18024,0.382683),(-0.923879,0.0,0.382683),(-0.906127,-0.18024,0.382683),(-0.853553,-0.353553,0.382683),(-0.768177,-0.51328,0.382683),(-0.5,-0.5,0.707107),(-0.653281,-0.653281,0.382683),(-0.392847,-0.587938,0.707107),(-0.270598,-0.653281,0.707107),(-0.13795,-0.69352,0.707107),(-0.0,-0.707107,0.707107),(0.13795,-0.69352,0.707107),(0.270598,-0.653281,0.707107),(0.392847,-0.587938,0.707107),(0.5,-0.5,0.707107),(0.587938,-0.392847,0.707107),(0.653281,-0.270598,0.707107),(0.69352,-0.13795,0.707107),(0.707107,0.0,0.707107),(0.69352,0.13795,0.707107),(0.653281,0.270598,0.707107),(0.768178,0.31819,0.55557),(0.587938,0.392847,0.707107),(0.691342,0.46194,0.55557),(0.587938,0.587938,0.55557),(0.46194,0.691342,0.55557),(0.906127,0.37533,0.19509),(0.707107,0.707107,0.0),(0.96194,0.191342,0.19509),(0.83147,0.55557,0.0),(0.980785,-0.0,0.19509),(0.96194,-0.191342,0.19509),(0.906127,-0.37533,0.19509),(0.815493,-0.544895,0.19509),(0.69352,-0.69352,0.19509),(0.544895,-0.815493,0.19509),(0.37533,-0.906127,0.19509),(0.55557,-0.831469,0.0),(0.191342,-0.961939,0.19509),(-0.0,-0.980785,0.19509),(-0.191342,-0.961939,0.19509),(-0.37533,-0.906127,0.19509),(-0.544895,-0.815493,0.19509),(-0.69352,-0.69352,0.19509),(-0.55557,-0.831469,0.0),(-0.815493,-0.544895,0.19509),(-0.980784,-0.19509,0.0),(-0.961939,0.191342,0.19509),(-0.906127,0.37533,-0.19509),(-0.815493,0.544895,-0.19509),(-0.961939,0.191342,-0.19509),(-0.980785,0.0,-0.19509),(-0.961939,-0.191341,-0.19509),(-0.906127,-0.37533,-0.19509),(-0.815493,-0.544895,-0.19509),(-0.653281,-0.653281,-0.382683),(-0.51328,-0.768178,-0.382683),(-0.353553,-0.853553,-0.382683),(-0.191342,-0.961939,-0.19509),(-0.18024,-0.906127,-0.382683),(0.0,-0.923879,-0.382683),(-0.0,-0.831469,-0.55557),(0.18024,-0.906127,-0.382683),(0.353553,-0.853553,-0.382683),(0.51328,-0.768178,-0.382683),(0.653281,-0.653281,-0.382683),(0.815493,-0.544895,-0.19509),(0.768178,-0.51328,-0.382683),(0.853553,-0.353553,-0.382683),(0.768178,-0.31819,-0.55557),(0.906127,-0.18024,-0.382683),(0.923879,0.0,-0.382683),(0.906127,0.18024,-0.382683),(0.853553,0.353553,-0.382683),(0.768178,0.51328,-0.382683),(0.691342,0.46194,-0.55557),(0.587938,0.587938,-0.55557),(0.5,0.5,-0.707107),(0.51328,0.212607,-0.83147),(0.544895,0.108386,-0.83147),(0.55557,-0.0,-0.83147),(0.544895,-0.108386,-0.83147),(0.51328,-0.212608,-0.83147),(0.46194,-0.308658,-0.83147),(0.392847,-0.392847,-0.83147),(0.308658,-0.46194,-0.83147),(0.212607,-0.51328,-0.83147),(0.108386,-0.544895,-0.83147),(-0.0,-0.55557,-0.83147),(-0.108386,-0.544895,-0.83147),(-0.212608,-0.51328,-0.83147),(-0.5,-0.5,-0.707107),(-0.308658,-0.461939,-0.83147),(-0.587938,-0.392847,-0.707107),(-0.392847,-0.392847,-0.83147),(-0.653281,-0.270598,-0.707107),(-0.46194,-0.308658,-0.83147),(-0.69352,-0.13795,-0.707107),(-0.707107,0.0,-0.707107),(-0.544895,-0.108386,-0.83147),(-0.270598,-0.270598,-0.92388),(-0.162212,-0.108386,-0.980785),(-0.13795,-0.13795,-0.980785),(-0.212608,-0.31819,-0.92388),(-0.37533,-0.074658,-0.92388),(-0.074658,-0.18024,-0.980785),(-0.03806,-0.191342,-0.980785),(-0.074658,-0.37533,-0.92388),(-0.0,-0.382683,-0.92388),(0.074658,-0.37533,-0.92388),(0.074658,-0.18024,-0.980785),(0.212607,-0.31819,-0.92388),(0.162212,-0.108386,-0.980785),(0.31819,-0.212608,-0.92388),(0.353553,-0.146447,-0.92388),(0.37533,-0.074658,-0.92388),(0.19509,-0.0,-0.980785),(0.37533,0.074658,-0.92388),(0.31819,0.212608,-0.92388),(0.270598,0.270598,-0.92388),(0.108386,0.162212,-0.980785),(0.212608,0.31819,-0.92388),(0.146447,0.353553,-0.92388),(0.03806,0.191342,-0.980785),(0.074658,0.37533,-0.92388),(0.46194,0.691342,-0.55557),(0.270598,0.653281,-0.707107),(0.0,0.19509,-0.980785),(-0.03806,0.191342,-0.980785),(-0.074658,0.18024,-0.980785),(0.31819,0.768178,-0.55557),(0.0,0.707107,-0.707107),(-0.108386,0.544895,-0.83147),(0.162212,0.815493,-0.55557),(0.55557,0.831469,0.0),(0.382683,0.923879,0.0),(0.191342,0.96194,-0.19509),(0.19509,0.980785,0.0),(-0.13795,0.69352,-0.707107),(0.0,1.0,0.0),(-0.270598,0.653281,-0.707107),(-0.191341,0.961939,-0.19509),(-0.392847,0.587938,-0.707107),(-0.308658,0.461939,-0.83147),(-0.108386,0.162212,-0.980785),(-0.13795,0.13795,-0.980785),(-0.5,0.5,-0.707107),(-0.18024,0.074658,-0.980785),(-0.461939,0.308658,-0.83147),(-0.37533,0.906127,-0.19509),(-0.587938,0.392847,-0.707107),(-0.653281,0.270598,-0.707107),(-0.544895,0.108386,-0.83147),(-0.19509,0.0,-0.980785),(-0.382683,0.0,-0.92388),(-0.191342,-0.03806,-0.980785),(-0.69352,0.13795,-0.707107),(-0.693519,0.69352,-0.19509),(-0.544895,0.815493,-0.19509),(-0.555569,0.831469,0.0),(-0.19509,0.980784,0.0),(-0.18024,0.906127,0.382683),(0.31819,0.768178,0.55557),(0.162212,0.815493,0.55557)]

sphere_mesh = [shape_sphere_vert,shape_sphere_order]


class Node :
    
    request_update = False

    def __init__(self):
        pass

    def update() :
        pass

class Node3D(Node) :

    def __init__(self,object_name):
        self.name = object_name
        self.position = [0,0,0]
        self.rotation = [0,0,0]
        self.visible = True
        self.scale = 1
        super().__init__()

    def rotate_x(self,angle,should_wrap : bool = False) :
        new_x = self.rotation[0]+angle
        if should_wrap :
            new_x = quick_math.wrapf(angle,0,360)
        self.rotation = [new_x,self.rotation[1],self.rotation[2]]

    def rotate_y(self,angle,should_wrap : bool = False) :
        new_y = self.rotation[1]+angle
        if should_wrap :
            new_y = quick_math.wrapf(new_y,0,360)
        self.rotation = [self.rotation[0],new_y,self.rotation[2]]

    def rotate_z(self,angle,should_wrap : bool = False) :
        new_z = self.rotation[2]+angle
        if should_wrap :
            new_z = quick_math.wrapf(angle,0,360)
        self.rotation = [self.rotation[0],self.rotation[1],new_z]
    
    def move_x(self,distance) :
        new_x = self.position[0] + distance
        self.position = [new_x,self.position[1],self.position[2]]

    def move_y(self,distance) :
        new_y = self.position[1] + distance
        self.position = [self.position[0],new_y,self.position[2]]

    def move_z(self,distance) :
        new_z = self.position[2] + distance
        self.position = [self.position[0],self.position[1],new_z]

class Mesh3D(Node3D) :

    class_objects = []

    def __init__(self,object_name,mesh : list,color : COLOR):
        self.mesh = mesh
        self.color = color
        Mesh3D.class_objects.append(self)
        #print(Mesh3D.class_objects)
        super().__init__(object_name)
    
class WorldCamera(Node3D) :

    def __init__(self, object_name):
        self.name = object_name
        self.position = [0,0,-3]
        self.rotation = [0,0,0]
        
        self.focal = 1200
        self.near_cull_distance = -0.5
        self.far_cull_distance = 8



Window = WINDOW()

running = True

cube = Mesh3D("bobby",cube_mesh,COLOR(1,0,0))

cube2 = Mesh3D("bobby",cube_mesh,COLOR(0,1,0))
cube2.move_x(2)

camera = WorldCamera("camera")

def ready() :
    global timestamp 
    timestamp = time.process_time

    ##make world floor 
    enable_floor = True

    floor_range = 5
    floor_size = 1

    if enable_floor :
        for x in range(-floor_range,floor_range) :
            for y in range(-floor_range,floor_range) :
                floor = Mesh3D("floor",plane_mesh,COLOR(0.1,0.1,0.1))
                floor.scale = floor_size
                floor.move_x(x*floor_size)
                floor.move_z(y*floor_size)
                floor.move_y(-0.5)

    
def draw3D() :
    Canvas.delete("all") ##clear screen
    draw_queue = []
    for object in Mesh3D.class_objects :
        if object.visible :
            object_mesh = object.mesh
            for face in object_mesh[1] :
                
                tri = [object_mesh[0][face[0]-1],object_mesh[0][face[1]-1],object_mesh[0][face[2]-1]]
                
                position = combine_vec3(object.position.copy(),camera.position.copy(),True)
                rotation : list = object.rotation.copy()

                scale = object.scale

                tri = [transform_scale(tri[0],scale),transform_scale(tri[1],scale),transform_scale(tri[2],scale)]

                tri = [transform_rotation(tri[0],rotation),transform_rotation(tri[1],rotation),transform_rotation(tri[2],rotation)]

                tri = [transform_position(tri[0],position),transform_position(tri[1],position),transform_position(tri[2],position)]

                ##camera rotation has to be applied after the first in order to work correctly
                cam_rot = combine_vec3([0,0,0],camera.rotation.copy(),True) ##invert 
                tri = [transform_rotation(tri[0],cam_rot),transform_rotation(tri[1],cam_rot),transform_rotation(tri[2],cam_rot)]

                ##if behind camera, skip rendering ##pretty important
                if tri[0][2] < camera.near_cull_distance :
                    break
                if tri[1][2] < camera.near_cull_distance :
                    break
                if tri[2][2] < camera.near_cull_distance :
                    break
                
                ##currently using a distance based shader where in it is brighter the closer an object is - it's not great
                dis = max([tri[0][2],tri[1][2],tri[2][2]])
                color = object.color 
                if dis > 0 :
                    color *= ((1/dis)) * 2
                
                if dis < camera.far_cull_distance :
                    draw_queue.append([tri,color])

    z_depths = {}

    for tri in draw_queue :
        points = tri[0]
        score = max([points[0][2],points[1][2],points[2][2]]) - max([points[0][1],points[1][1],points[2][1]]) ##get furthest point (flip for inverted norms lol)
        z_depths[str(tri)] = score
    
    for tri in sorted(draw_queue, key = lambda x : z_depths[str(x)],reverse=True) : ##sort based on "z score"
        draw_triangle(tri[0],tri[1])

def draw_triangle(triangle : list,color : COLOR,fill : bool = True) -> bool :
    
    start_point = screen_plot(triangle[0])
    if not start_point : return False
    mid_point = screen_plot(triangle[1])
    if not mid_point : return False
    end_point = screen_plot(triangle[2])
    if not end_point : return False
    
    Canvas.create_polygon(start_point,mid_point,end_point,fill=color.get_hex())

    return True

def screen_plot(point : list) -> any : 
    f = abs(point[2]/camera.focal )
    if f == 0 :
        return False
    new_point = ((point[0])/f + Window.x_offset,(-point[1])/f + Window.y_offset)
    return new_point

def transform_position(point : list ,position : list) -> list :
    
    new_point = (point[0] + position[0],point[1] + position[1],point[2] + position[2])
    
    return new_point

def transform_rotation(point : list, rotation : list) -> list :

    z = rotate_2D_Vec((point[0],point[1]),quick_math.deg_to_rad(rotation[2]))
    new_point = (z[0],z[1],point[2])

    y = rotate_2D_Vec((new_point[0],new_point[2]),quick_math.deg_to_rad(rotation[1]))
    new_point = (y[0],new_point[1],y[1])

    x = rotate_2D_Vec((new_point[1],new_point[2]),quick_math.deg_to_rad(rotation[0]))
    new_point = (new_point[0],x[0],x[1])
    
    return new_point

def transform_scale(point : list,scale) -> list :
    point = [point[0]*scale,point[1]*scale,point[2]*scale]
    return point

def rotate_2D_Vec(vector : list,angle) :

        s = math.sin(angle)
        c = math.cos(angle)

        x = c * vector[0] - s * vector[1]
        y = s * vector[0] + c * vector[1]

        return (x,y)

def combine_vec3(l1 : list, l2 : list, subtract : bool = False) -> list :

    if subtract : 
        for i in range(len(l2)) :
            l2[i] = l2[i] * -1

    x = (l1[0] + l2[0])
    y = (l1[1] + l2[1])
    z = (l1[2] + l2[2])

    breakpoint
    
    return [x,y,z]

w_key = INPUT_STRUCTURE("w")
s_key = INPUT_STRUCTURE("s")

a_key = INPUT_STRUCTURE("a")
d_key = INPUT_STRUCTURE("d")

key_left = INPUT_STRUCTURE("Left")
key_right = INPUT_STRUCTURE("Right")
key_up = INPUT_STRUCTURE("Up")
key_down = INPUT_STRUCTURE("Down")

key_ESC = INPUT_STRUCTURE("~")

def await_key(key : INPUT_STRUCTURE) :
    while not key.just_pressed :
        pass
    return

def input_check(delta : float) :

    Canvas.focus_force()

    if key_ESC.is_pressed :
        root.destroy()

    ##wasd
    if w_key.is_pressed :
        forward_vec = rotate_2D_Vec((0,1),quick_math.deg_to_rad(camera.rotation[1]))
        camera.move_x(forward_vec[0] * delta * 2)
        camera.move_z(forward_vec[1] * delta * 2)
    
    if s_key.is_pressed :
        forward_vec = rotate_2D_Vec((0,-1),quick_math.deg_to_rad(camera.rotation[1]))
        camera.move_x(forward_vec[0] * delta * 2)
        camera.move_z(forward_vec[1] * delta * 2)

    if a_key.is_pressed :
        forward_vec = rotate_2D_Vec((-1,0),quick_math.deg_to_rad(camera.rotation[1]))
        camera.move_x(forward_vec[0] * delta * 2)
        camera.move_z(forward_vec[1] * delta * 2)

    if d_key.is_pressed :
        forward_vec = rotate_2D_Vec((1,0),quick_math.deg_to_rad(camera.rotation[1]))
        camera.move_x(forward_vec[0] * delta * 2)
        camera.move_z(forward_vec[1] * delta * 2)

    ##looking left and right
    if key_left.is_pressed :
        camera.rotate_y(90 * delta,True)
    
    if key_right.is_pressed :
        camera.rotate_y(-90 * delta,True)

def process() :

    Canvas.config(width=root.winfo_screenwidth(),height=root.winfo_screenheight()) ##resize canvas to window
    Window.x_offset = root.winfo_screenwidth() * 0.5
    Window.y_offset = root.winfo_screenheight() * 0.5

    timestamp = time.time()

    fps_stop = 0.0
    fps = 0

    while running :

        deltatime = time.time() - timestamp
        timestamp = time.time()

        input_check(deltatime)
        draw3D()
        Canvas.pack() ##pack everything into the window
        root.update() ##update window

        fps += 1
        
        fps_stop += deltatime 
        if fps_stop >= 1 : 
            print(fps)
            fps_stop = 0
            fps = 0
        

ready()

process()

